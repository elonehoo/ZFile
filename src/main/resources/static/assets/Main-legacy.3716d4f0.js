function asyncGeneratorStep(e,t,n,r,i,a,l){try{var o=e[a](l),u=o.value}catch(c){return void n(c)}o.done?t(u):Promise.resolve(u).then(r,i)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function l(e){asyncGeneratorStep(a,r,i,l,o,"next",e)}function o(e){asyncGeneratorStep(a,r,i,l,o,"throw",e)}l(void 0)}))}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,a=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(u){o=!0,i=u}finally{try{l||null==n.return||n.return()}finally{if(o)throw i}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var __vite_style__=document.createElement("style");__vite_style__.innerHTML=".nav-btn{width:2.5rem;border-radius:9999px;display:flex;align-items:center;justify-content:center;height:2.5rem}.nav-btn:hover{cursor:pointer;background-color:#534db8}.nav-btn:hover .icon{color:#fff}.file-item-name[data-v-316e3566],.file-item-size[data-v-316e3566],.file-item-time[data-v-316e3566]{height:100%;line-height:3rem}.file-item-name[data-v-316e3566]{display:flex;align-items:center;flex:8}.file-item-time[data-v-316e3566]{min-width:7rem;flex:3}.file-item-size[data-v-316e3566]{min-width:6rem;flex:3}@keyframes fadeInto{0%{opacity:0;display:block}100%{opacity:1}}.fadeInto{animation:fadeInto 1s ease-in-out;animation-fill-mode:forwards}@keyframes fadeIn{0%{transform:translate3d(-50%,0,0);opacity:0}100%{transform:translate3d(0,0,0);opacity:1}}@keyframes fadeIn_back{0%{transform:translate3d(-50%,0,0);opacity:0}100%{transform:translate3d(-10%,0,0);opacity:1}}@keyframes enter-x-l{0%{transform:translate3d(60%,0,0);opacity:0}100%{transform:translate3d(0,0,0);opacity:1}}.enter_xleft-0{animation:enter-x-l .4s;animation-delay:0s;animation-timing-function:cubic-bezier(.94,.06,.74,.865);animation-fill-mode:forwards}.enter_xleft-1{animation:enter-x-l .4s;animation-delay:.1s;animation-timing-function:cubic-bezier(.94,.06,.74,.865);animation-fill-mode:forwards}.enter_xleft-2{animation:enter-x-l .4s;animation-delay:.2s;animation-timing-function:cubic-bezier(.94,.06,.74,.865);animation-fill-mode:forwards}.enter_xleft-3{animation:enter-x-l .4s;animation-delay:.3s;animation-timing-function:cubic-bezier(.94,.06,.74,.865);animation-fill-mode:forwards}.enter_xleft-4{animation:enter-x-l .4s;animation-delay:.4s;animation-timing-function:cubic-bezier(.94,.06,.74,.865);animation-fill-mode:forwards}.clip-text{background-clip:text;color:transparent;-webkit-background-clip:text;overflow:hidden;white-space:nowrap}.sun-scroll::-webkit-scrollbar{width:.4rem;background-color:rgba(209,213,219,.1)}.sun-scroll::-webkit-scrollbar-thumb{width:.4rem;height:4rem;border-radius:.2rem;background-color:#7c7c7c}.sun-scroll.dark::-webkit-scrollbar-thumb{width:.4rem;height:4rem;border-radius:.2rem;background-color:#7c7c7c}.file-table-head{transition:background-color .3s ease-in-out;height:3rem;display:flex;align-items:center;text-align:left;overflow:hidden}.file-table-head .head-name,.file-table-head .head-size,.file-table-head .head-time{cursor:pointer;transition:background-color .2s ease-in-out;height:100%;line-height:3rem}.file-table-head .head-name{flex:8}.file-table-head .head-time{min-width:7rem;flex:3}.file-table-head .head-size{min-width:6rem;flex:3}.file-table-items{height:calc(100vh - 7.5rem)}@keyframes fadeInto{0%{opacity:0;display:block}100%{opacity:1}}.fadeInto{animation:fadeInto 1s ease-in-out;animation-fill-mode:forwards}@keyframes fadeIn{0%{transform:translate3d(-50%,0,0);opacity:0}100%{transform:translate3d(0,0,0);opacity:1}}@keyframes fadeIn_back{0%{transform:translate3d(-50%,0,0);opacity:0}100%{transform:translate3d(-10%,0,0);opacity:1}}@keyframes enter-x-l{0%{transform:translate3d(60%,0,0);opacity:0}100%{transform:translate3d(0,0,0);opacity:1}}.enter_xleft-0{animation:enter-x-l .4s;animation-delay:0s;animation-timing-function:cubic-bezier(.94,.06,.74,.865);animation-fill-mode:forwards}.enter_xleft-1{animation:enter-x-l .4s;animation-delay:.1s;animation-timing-function:cubic-bezier(.94,.06,.74,.865);animation-fill-mode:forwards}.enter_xleft-2{animation:enter-x-l .4s;animation-delay:.2s;animation-timing-function:cubic-bezier(.94,.06,.74,.865);animation-fill-mode:forwards}.enter_xleft-3{animation:enter-x-l .4s;animation-delay:.3s;animation-timing-function:cubic-bezier(.94,.06,.74,.865);animation-fill-mode:forwards}.enter_xleft-4{animation:enter-x-l .4s;animation-delay:.4s;animation-timing-function:cubic-bezier(.94,.06,.74,.865);animation-fill-mode:forwards}.clip-text{background-clip:text;color:transparent;-webkit-background-clip:text;overflow:hidden;white-space:nowrap}.sun-scroll::-webkit-scrollbar{width:.4rem;background-color:rgba(209,213,219,.1)}.sun-scroll::-webkit-scrollbar-thumb{width:.4rem;height:4rem;border-radius:.2rem;background-color:#7c7c7c}.sun-scroll.dark::-webkit-scrollbar-thumb{width:.4rem;height:4rem;border-radius:.2rem;background-color:#7c7c7c}.file-main{height:calc(100vh - 3rem)}.file-body{box-shadow:-1px -1px 3px 0 rgba(43,43,43,.1)}",document.head.appendChild(__vite_style__),System.register(["./index-legacy.8eb97389.js","./index-legacy.941c75b8.js","./vendor-legacy.5077e8b8.js","./_utils-legacy.5d140c87.js","./logo-legacy.4af448be.js"],(function(e){"use strict";var t,n,r,i,a,l,o,u,c,s,d,f,m,p,v,h,b,y,g,k,w,x,_,I,R,T,A,C,F,z,L,M,S,j,D,N,H,G,B,E,P,U,O,V,q,W,$;return{setters:[function(e){t=e.d,n=e.M,r=e.e,i=e.T,a=e.B,l=e.f,o=e.c},function(e){u=e.f,c=e.i,s=e.s,d=e.u,f=e.m,m=e.g,p=e.h,v=e.k},function(e){h=e.ac,b=e.ad,y=e.ae,g=e.c,k=e.b,w=e.a5,x=e.U,_=e.W,I=e.X,R=e.Z,T=e.af,A=e.ag,C=e.f,F=e.Y,z=e.aa,L=e.ab,M=e.ah,S=e.ai,j=e.a8,D=e.aj,N=e.T,H=e.r,G=e.o,B=e.ak,E=e.al,P=e.a9,U=e.S,O=e.i,V=e.j,q=e.u},function(e){W=e.M},function(e){$=e._}],execute:function(){function Z(){var e=h();return[function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;n.value=e.info({title:r,content:function(){return b(y,{type:"line",percentage:t,"indicator-placement":"inside",processing:!0})},onClose:function(){n.value=null}})},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.autoClose,i=void 0!==r&&r,a=t.duration,l=void 0===a?3e3:a;n.value&&(n.value.content=function(){return b(y,{type:"line",percentage:e,"indicator-placement":"inside",processing:100!==e})},n.value.meta=i?"close after ".concat(l/1e3,"s"):void 0)}]}var X=g({name:"FolderAdd",components:{AliIcon:t},setup:function(){var e=k(null),t=w(),n=_slicedToArray(Z(),2),r=n[0],i=n[1],a=0,l=new Map;return{folderAddRef:e,uploadFolder:function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(n){var o,s,d,f,m,p,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a++,s=k(),l.set(a,s),d=new FormData,f=null===(o=n.target)||void 0===o?void 0:o.files,m=0,p=0;p<f.length;p++)0!==f[p].size?(d.append("files",f[p],f[p].webkitRelativePath.split("/").join("!")),console.log("filename",f[p].webkitRelativePath)):m++;return m&&t.warning("".concat(m," file(s)' size equal '0'")),r(0,s,"folders progress ".concat(a)),e.next=11,u(s,d,"/home",i).then((function(e){var t=e.status;c(t)&&(i(100,{autoClose:!0},s),v=setTimeout((function(){var e;(clearTimeout(v),v=null,s.value)&&(null===(e=s.value)||void 0===e||e.destroy(),l.delete(a))}),3e3))})).catch((function(){var e;s.value&&(null===(e=s.value)||void 0===e||e.destroy(),l.delete(a))})).finally((function(){n.target.value="",d=null}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}});X.render=function(e,t,n,r,i,a){var l=x("AliIcon");return _(),I("div",null,[R("input",{class:"absolute z-1 block w-full h-full cursor-pointer overflow-hidden indent-3xl",type:"file",multiple:!0,title:"folder-add",webkitdirectory:"",ref:"folderAddRef",onChange:t[1]||(t[1]=function(){return e.uploadFolder&&e.uploadFolder.apply(e,arguments)})},null,544),R(l,{class:"relative icon dark:text-true-gray-200 !text-xl cursor-pointer",code:"folder-add"})])};var Y=g({name:"FileAdd",components:{AliIcon:t},setup:function(){var e=k(null),t=w(),n=0,r=new Map,i=_slicedToArray(Z(),2),a=i[0],l=i[1];return{fileAddRef:e,uploadFiles:function(e){var i;n++;var o=k();r.set(n,o);for(var s,d=new FormData,f=null===(i=e.target)||void 0===i?void 0:i.files,m=0,p=0;p<f.length;p++)0!==f[p].size?d.append("files",f[p]):m++;m&&t.warning("".concat(m," file(s)' size equal '0'")),a(0,o,"file progress ".concat(n)),u(o,d,"/home",l).then((function(e){var i,a=e.status;c(a)?(l(100,{autoClose:!0},o),s=setTimeout((function(){var e;(clearTimeout(s),s=null,o.value)&&(null===(e=o.value)||void 0===e||e.destroy(),r.delete(n))}),3e3)):(t.error("未知异常"),o.value&&(null===(i=o.value)||void 0===i||i.destroy(),r.delete(n)))})).catch((function(){var e;(t.error("请求异常"),o.value)&&(null===(e=o.value)||void 0===e||e.destroy(),r.delete(n))})).finally((function(){e.target.value="",d=null}))}}}});Y.render=function(e,t,n,r,i,a){var l=x("AliIcon");return _(),I("div",null,[R("input",{class:"absolute z-1 block w-full h-full cursor-pointer overflow-hidden indent-3xl",type:"file",multiple:!0,title:"file-add",ref:"fileAddRef",onChange:t[1]||(t[1]=function(){return e.uploadFiles&&e.uploadFiles.apply(e,arguments)})},null,544),R(l,{class:"relative icon dark:text-true-gray-200 !text-xl cursor-pointer",code:"file-add"})])};var J=g({name:"LeftMenu",components:{Menu:n,MenuItem:r,AliIcon:t,FolderAdd:X,FileAdd:Y},props:{dom:{type:Object,default:null}},setup:function(e){var t=T(e,"dom"),n=A(t),r=n.isFullscreen,i=n.enter,a=C();return{MenuMode:W,navItems:[{code:"quanping",activeCode:"xiaoping",active:r,key:1,title:"fullscreen",click:function(){i()}},{code:"xiazai",key:4,title:"download"},{code:"lianjie",key:5,title:"link"}],github:"https://github.com/xiaoxunyao/ZFile",toSignOut:function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:t=e.sent,n=t.status,c(n)&&a.push("/login");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}}),K=R("img",{src:$,class:"w-20"},null,-1),Q={class:"nav-btn"},ee={class:"nav-btn"};J.render=function(e,t,n,r,i,a){var l=x("AliIcon"),o=x("MenuItem"),u=x("FolderAdd"),c=x("FileAdd"),s=x("Menu");return _(),I("div",null,[R("a",{href:e.github,class:"block relative left-2 w-18 h-18"},[K],8,["href"]),R(s,{mode:e.MenuMode.VERTICAL,class:"ml-6 mt-8"},{default:F((function(){return[(_(!0),I(z,null,L(e.navItems,(function(e){return _(),I(o,{key:e.key,title:e.title,onclick:e.click},{default:F((function(){return[R("div",Q,[R(l,{class:"icon dark:text-true-gray-200 !text-xl",code:e.code},null,8,["code"])])]})),_:2},1032,["title","onclick"])})),128)),R(o,null,{default:F((function(){return[R(u,{class:"nav-btn relative cursor-pointer overflow-hidden"})]})),_:1}),R(o,null,{default:F((function(){return[R(c,{class:"nav-btn relative cursor-pointer overflow-hidden"})]})),_:1}),R(o,null,{default:F((function(){return[R("div",ee,[R(l,{class:"icon dark:text-true-gray-200 !text-xl",code:"exit",title:"sign out",onClick:e.toSignOut},null,8,["onClick"])])]})),_:1})]})),_:1},8,["mode"])])};var te=new Set(["bash_logout","bash_profile","bashrc","java","apk","xls","excel","txt","unknow","shell","debianos","avi","doc","jpg","mp3","mp4","png","psd","rar","zip","md","css","html","rpm","jar","less","Directory","exe","ppt","word","cs","app","cpp","rb","py","r","oc","rs","go","sql","scala","swift","js"]),ne=g({name:"FileTableItem",components:{AliIcon:t},props:{fileInfo:{type:Object,default:function(){return{fileType:"unknow",fileName:"--",fileSize:"--",dateTime:"--"}}},isFocus:{type:Boolean,default:!1},onBlur:{type:Function,default:null}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit;return{activeRef:k(!1),codeShow:te.has(e.fileInfo.fileType||"")?e.fileInfo.fileType:"unknow",changeInput:function(e){n("update:modelValue",e)}}}}),re=D();M("data-v-316e3566");var ie={class:"\r\n\t\t\th-12\r\n\t\t\tw-full\r\n\t\t\tflex\r\n\t\t\ttransition-colors\r\n\t\t\ttext-left\r\n\t\t\tcursor-pointer\r\n\t\t\tbg-light-50\r\n\t\t\tdark:bg-blue-gray-600\r\n\t\t",hover:"bg-blue-50 dark:bg-blue-gray-700"},ae={class:"file-item-name pl-12 dark:text-warm-gray-300"},le={class:"file-item-time hidden lg:block indent-sm dark:text-warm-gray-300"},oe={class:"file-item-size indent-sm dark:text-warm-gray-300"};S();var ue=re((function(e,t,n,r,i,a){var l=x("AliIcon"),o=x("n-input");return _(),I("div",ie,[R("div",ae,[R(l,{code:e.codeShow,class:"!text-3xl mr-8"},null,8,["code"]),e.isFocus?(_(),I(o,{key:1,class:"whitespace-nowrap overflow-ellipsis overflow-hidden max-w-60 lg:w-auto","on-input":e.changeInput,"on-blur":e.onBlur,value:e.fileInfo.fileName,placeholder:"",autofocus:!0},null,8,["on-input","on-blur","value"])):(_(),I("span",{key:0,class:"whitespace-nowrap overflow-ellipsis overflow-hidden w-28 lg:w-auto",title:e.fileInfo.fileName},j(e.fileInfo.fileName),9,["title"]))]),R("div",le,j(e.fileInfo.dateTime),1),R("div",oe,j(e.fileInfo.fileSize),1)])}));ne.render=ue,ne.__scopeId="data-v-316e3566";var ce=g({name:"FileTable",components:{FileTableItem:ne},inheritAttrs:!1,props:{fileList:{type:Array,default:null}},setup:function(e){var t=k(),n=k(),r=N(),i=d().t,a=C(),l=k(-9999),o=k(!1),u=H({}),c=k(!1),s=function(r,i){if(t.value&&t.value.hide(),n.value&&n.value.hide(),o.value=!1,Number.isInteger(i)||i){var l=e.fileList&&e.fileList[i];"Directory"===l.fileType&&a.push(f(a.currentRoute.value.fullPath)+l.fileName)}},v=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("====== download start ==============="),"Directory"!==(n=e.fileList&&e.fileList[l.value]).fileType){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,m(p(a.currentRoute.value.path)+n.fileName);case 6:r=t.sent,(i=document.createElement("a")).href=URL.createObjectURL(r),i.download=null==n?void 0:n.fileName,i.click(),i=null;case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.commit("fileSys/deleteDirMutation");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return G((function(){document.addEventListener("click",s),document.addEventListener("contextmenu",s)})),B((function(){document.removeEventListener("click",s),document.removeEventListener("contextmenu",s)})),{menuRef:t,controlRef:n,controlHide:function(e){e.preventDefault(),e.stopPropagation(),n.value&&n.value.show({top:e.y,left:e.x}),t.value&&t.value.hide()},fileRefHide:function(e,r){e.preventDefault(),e.stopPropagation(),t.value&&t.value.show({top:e.y,left:e.x}),n.value&&n.value.hide(),l.value=r,o.value=!0},hideClick:s,openDir:function(){var t=e.fileList&&e.fileList[l.value];"Directory"===t.fileType&&a.push(f(a.currentRoute.value.fullPath)+t.fileName)},downLoad:v,t:i,activeRef:o,curFileRef:l,mkdir:function(e){c.value=!0,u.fileName="Directory"===e?"新建文件夹":"新建文件";var t=u.fileName;if(!e)if(/.*\..*/.test(t)){var n=t.split(".");e=n[n.length-1]}else e="unknow";u.fileType=e},deleteDir:h,fileInfoRef:u,mkInfoRef:c,blurToMkpath:function(){c.value=!1,r.dispatch("fileSys/mkdirAction",{address:p(a.currentRoute.value.path),fileName:u.fileName})}}}}),se=P("新建文件夹"),de=P("新建文件"),fe=P("刷新"),me=P("打开"),pe=P("删除"),ve=P("下载"),he=P("生成直链"),be={class:"head-name pl-12 hover:bg-blue-50 dark:hover:bg-blue-gray-600"},ye={class:"head-time hidden lg:block indent-sm hover:bg-blue-50 dark:hover:bg-blue-gray-600"},ge={class:"head-size indent-sm hover:bg-blue-50 dark:hover:bg-blue-gray-600"},ke={class:"file-table-items h-full overflow-scroll overflow-x-hidden sun-scroll"};ce.render=function(e,t,n,r,i,a){var l=x("v-contextmenu-item"),o=x("v-contextmenu-divider"),u=x("v-contextmenu"),c=x("FileTableItem");return _(),I(z,null,[R(u,{ref:"controlRef"},{default:F((function(){return[R(l,{class:"text-center",onClick:t[1]||(t[1]=function(){e.mkdir("Directory")})},{default:F((function(){return[se]})),_:1}),R(o),R(l,{class:"text-center"},{default:F((function(){return[de]})),_:1}),R(o),R(l,{class:"text-center"},{default:F((function(){return[fe]})),_:1})]})),_:1},512),R(u,{ref:"menuRef"},{default:F((function(){return[R(l,{class:"text-center",onClick:e.openDir},{default:F((function(){return[me]})),_:1},8,["onClick"]),R(o),R(l,{class:"text-center",onClick:e.deleteDir},{default:F((function(){return[pe]})),_:1},8,["onClick"]),R(o),R(l,{class:"text-center",onClick:e.downLoad},{default:F((function(){return[ve]})),_:1},8,["onClick"]),R(o),R(l,{class:"text-center"},{default:F((function(){return[he]})),_:1})]})),_:1},512),R("div",{class:["file-table",e.$attrs.class]},[R("div",{class:"\n\t\t\t\tfile-table-head\n\t\t\t\ttext-warm-gray-400\n\t\t\t\tdark:text-light\n\t\t\t\tborder-b-[0.5px] border-gray-200\n\t\t\t\tdark:border-gray-400\n\t\t\t\ttext-md\n\t\t\t\tfont-semibold\n\t\t\t",onContextmenu:t[2]||(t[2]=function(){return e.controlHide&&e.controlHide.apply(e,arguments)}),onClick:t[3]||(t[3]=function(){return e.hideClick&&e.hideClick.apply(e,arguments)})},[R("div",be,j(e.t("tablle.header.name")),1),R("div",ye,j(e.t("tablle.header.time")),1),R("div",ge,j(e.t("tablle.header.size")),1)],32),R("div",ke,[e.mkInfoRef?(_(),I(c,{key:0,"is-focus":!0,"on-blur":e.blurToMkpath,"file-info":e.fileInfoRef,modelValue:e.fileInfoRef.fileName,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.fileInfoRef.fileName=t})},null,8,["on-blur","file-info","modelValue"])):E("",!0),(_(!0),I(z,null,L(e.fileList,(function(t,n){return _(),I(c,{key:t.id,"file-info":t,class:{"!bg-blue-50 !dark:bg-blue-gray-700":e.activeRef&&e.curFileRef===n},onContextmenu:function(t){e.fileRefHide(t,n)},onClick:function(t){e.hideClick(t,n)}},null,8,["file-info","class","onContextmenu","onClick"])})),128)),R("div",{class:"h-full bg-light-50 dark:bg-blue-gray-600 transition-colors",onContextmenu:t[5]||(t[5]=function(){return e.controlHide&&e.controlHide.apply(e,arguments)}),onClick:t[6]||(t[6]=function(){return e.hideClick&&e.hideClick.apply(e,arguments)})},null,32)])],2)],64)};var we=e("default",g({name:"Main",components:{AliIcon:t,Translate:i,BreadItem:a,Breadcrumb:l,ToggleMode:o,FileTable:ce,LeftMenu:J},setup:function(){var e,t=k(null),n=k(!1),r=k(!1),i=C(),l=N(),o=A(t),u=o.isFullscreen,c=o.exit,s=k([]),d=U((function(){return l.getters["fileSys/curDirGetter"]})),f=w(),m=null===(e=O(v))||void 0===e?void 0:e.smallScreen;V((function(){return i.currentRoute.value.path}),_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value=!0,e.next=3,l.dispatch("fileSys/checkDirAction",i.currentRoute.value.path.replace(/^\/main(\/)?/,"")).catch((function(e){console.error(e),f.error(t)})).finally((function(){n.value=!1}));case 3:t=e.sent,r=q(i.currentRoute).params.path,a="string"==typeof(r=""===r?"/":r)?[r]:r,s.value=a;case 8:case"end":return e.stop()}}),e)}))),{immediate:!0});return{fullRef:t,isFullscreen:u,fileHistory:[{code:"left",key:6,click:function(){/^\/main(\/)?$/.test(i.currentRoute.value.path)||i.back()}},{code:"right",key:7,click:function(){i.forward()}}],BreadItem:a,exit:c,pathRef:s,baseUrl:"/main/",fileList:d,showModal:n,smallScreen:m,active:r,openDrawer:function(){r.value=!0}}}})),xe={id:"main",class:"\n\t\t\tw-screen\n\t\t\th-screen\n\t\t\tbg-blue-50\n\t\t\tdark:bg-gray-800\n\t\t\tflex\n\t\t\toverflow-hidden\n\t\t\ttransition-colors\n\t\t\tduration-200\n\t\t"},_e={class:"h-[4.5rem] w-full flex items-center overflow-hidden"},Ie={class:"flex items-center flex-1 text-left ml-8"},Re=P("右"),Te=P(" 《斯通纳》是美国作家约翰·威廉姆斯在 1965 年出版的小说。 "),Ae={class:"flex-1 text-right flex justify-end items-center pr-2 lg:pr-8"},Ce={class:"file-main w-full pb-2 pl-0 lg:pl-6"},Fe={class:"file-body w-full h-full rounded-0 lg:rounded-tl-3xl overflow-hidden"};we.render=function(e,t,n,r,i,a){var l=x("LeftMenu"),o=x("n-spin"),u=x("n-modal"),c=x("AliIcon"),s=x("n-button"),d=x("n-drawer-content"),f=x("n-drawer"),m=x("router-link"),p=x("BreadItem"),v=x("Breadcrumb"),h=x("ToggleMode"),b=x("Translate"),y=x("FileTable"),g=x("n-notification-provider");return _(),I("div",xe,[R(g,null,{default:F((function(){return[R(l,{class:"hidden lg:block min-w-[5rem] h-screen overflow-hidden",dom:e.fullRef},null,8,["dom"]),R("div",{class:["w-full h-screen",{"bg-blue-50 dark:bg-gray-800":e.isFullscreen}],ref:"fullRef"},[R(u,{show:e.showModal},{default:F((function(){return[R(o,{class:"bg-transparent text-blue-400 shadow-none",size:"large"})]})),_:1},8,["show"]),R("nav",_e,[R("div",Ie,[e.smallScreen?(_(),I(z,{key:1},[R(s,{onClick:e.openDrawer},{default:F((function(){return[Re]})),_:1},8,["onClick"]),R(f,{show:e.active,"onUpdate:show":t[1]||(t[1]=function(t){return e.active=t}),width:200},{default:F((function(){return[R(d,{title:"斯通纳"},{default:F((function(){return[Te]})),_:1})]})),_:1},8,["show"])],64)):(_(!0),I(z,{key:0},L(e.fileHistory,(function(e){return _(),I(c,{class:"\n\t\t\t\t\t\t\t\t\ticon\n\t\t\t\t\t\t\t\t\tcursor-pointer\n\t\t\t\t\t\t\t\t\t!text-xl\n\t\t\t\t\t\t\t\t\t!inline-block\n\t\t\t\t\t\t\t\t\tfont-bold\n\t\t\t\t\t\t\t\t\talign-bottom\n\t\t\t\t\t\t\t\t\ttext-warm-gray-500\n\t\t\t\t\t\t\t\t\thover:text-warm-gray-900\n\t\t\t\t\t\t\t\t\tdark:text-true-gray-200 dark:text-true-gray-50\n\t\t\t\t\t\t\t\t\ttransform-gpu\n\t\t\t\t\t\t\t\t\ttransition-all\n\t\t\t\t\t\t\t\t\thover:scale-110\n\t\t\t\t\t\t\t\t",onClick:e.click,code:e.code,key:e.key},null,8,["onClick","code"])})),128)),R(v,{class:"ml-4"},{default:F((function(){return[(_(!0),I(z,null,L(e.pathRef,(function(t,n){return _(),I(p,{key:t,class:"dark:text-true-gray-200"},{default:F((function(){return[n<e.pathRef.length-1?(_(),I(m,{key:0,to:e.baseUrl+e.pathRef.slice(0,n+1).join("/")},{default:F((function(){return[P(j(t),1)]})),_:2},1032,["to"])):(_(),I(z,{key:1},[P(j(t),1)],64))]})),_:2},1024)})),128))]})),_:1})]),R("div",Ae,[e.isFullscreen?(_(),I(c,{key:0,code:"xiaoping",class:"\n\t\t\t\t\t\t\t\tdark:text-white\n\t\t\t\t\t\t\t\tmr-8\n\t\t\t\t\t\t\t\t!text-2xl\n\t\t\t\t\t\t\t\tcursor-pointer\n\t\t\t\t\t\t\t\ttransition-transform\n\t\t\t\t\t\t\t\ttransform-gpu\n\t\t\t\t\t\t\t\thover:scale-110\n\t\t\t\t\t\t\t",onClick:e.exit},null,8,["onClick"])):E("",!0),R(h,{class:"pr-2 lg:mr-8"}),R(b)])]),R("div",Ce,[R("div",Fe,[R(y,{class:"transition-colors bg-white dark:bg-gray-700 overflow-hidden","file-list":e.fileList},null,8,["file-list"])])])],2)]})),_:1})])}}}}));
