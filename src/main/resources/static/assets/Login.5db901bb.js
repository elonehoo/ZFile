import{n as t,u as e,a as l,d as a,i as n,o as r,b as s}from"./index.348887ef.js";import{c as o,b as i,S as u,a5 as c,f as d,U as f,W as g,X as h,Y as b,Z as p,a6 as m,a7 as v,a8 as w,a9 as x}from"./vendor.37e0cd1a.js";import{_ as y,a as k,b as _,T as S,c as P}from"./index.9363d682.js";var j=o({name:"LoginForm",components:{Eye:y},setup(){const{t:r}=e(),s=l(),o=i(!0),f=i(!1),g=u((()=>({color:s.value?"white":""}))),h=i(null),b=i({user:{account:"",cipher:""}}),p=c(),m=d(),v=a((e=>{var l;e.preventDefault(),null==(l=h.value)||l.validate((l=>{return a=this,r=null,s=function*(){if(!l){f.value=!0;const{status:l,message:a}=yield(e=b.value.user,t.post({url:"/user/login",data:e})).finally((()=>{f.value=!1}));n(l)?m.push("/main"):p.error(a)}var e},new Promise(((t,l)=>{var n=t=>{try{i(s.next(t))}catch(e){l(e)}},o=t=>{try{i(s.throw(t))}catch(e){l(e)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,o);i((s=s.apply(a,r)).next())}));var a,r,s}))}),5e3,a((()=>{p.warning("get verification code control more frequently, 5s every time.")}),1e3));return{t:r,isSmall:s,labelStyle:g,formRef:h,formValue:b,rules:{user:{account:{required:!0,message:"请输入姓名",trigger:"blur"},cipher:{required:!0,message:"请输入密码",trigger:"blur"}}},showPw:o,changePwStat:()=>{o.value=!o.value},clickLogin:v,loading:f}}});const V={class:"absolute right-[5%]"},F={key:0};j.render=function(t,e,l,a,n,r){const s=f("n-input"),o=f("n-form-item"),i=f("Eye"),u=f("n-spin"),c=f("n-button"),d=f("n-form");return g(),h(d,{id:"lg-form",model:t.formValue,rules:t.rules,ref:"formRef","show-require-mark":!1,"show-feedback":"",onSubmit:e[5]||(e[5]=v((()=>{}),["prevent"]))},{default:b((()=>[p(o,{class:"enter_xleft-1",path:"user.account",label:`${t.t("account.user")}：`,"label-style":t.labelStyle},{default:b((()=>[p(s,{style:{"--box-shadow-focus":"0 0 0 2px rgba(107, 196, 255, 0.2)"},onKeydown:e[1]||(e[1]=m(v((()=>{}),["prevent"]),["enter"])),placeholder:t.t("lg_ph.user"),value:t.formValue.user.account,"onUpdate:value":e[2]||(e[2]=e=>t.formValue.user.account=e)},null,8,["placeholder","value"])])),_:1},8,["label","label-style"]),p(o,{class:"enter_xleft-2 lg:mb-8 relative",path:"user.cipher",label:`${t.t("account.pw")}：`,"label-style":t.labelStyle},{default:b((()=>[p(s,{style:{"--box-shadow-focus":"0 0 0 2px rgba(107, 196, 255, 0.2)"},type:t.showPw?"password":"text",onKeydown:e[3]||(e[3]=m(v((()=>{}),["prevent"]),["enter"])),placeholder:t.t("lg_ph.pw"),value:t.formValue.user.cipher,"onUpdate:value":e[4]||(e[4]=e=>t.formValue.user.cipher=e)},null,8,["type","placeholder","value"]),p("div",V,[p(i,{width:"22","is-off":t.showPw,onClick:t.changePwStat,class:"text-gray-600 hover:text-black dark:text-gray-300 dark:hover:text-white"},null,8,["is-off","onClick"])])])),_:1},8,["label","label-style"]),p(c,{class:"w-full enter_xleft-3","attr-type":"button",type:"info",onClick:t.clickLogin,disabled:t.loading},{default:b((()=>[t.loading?(g(),h(u,{key:1,class:"text-white",size:"small"})):(g(),h("span",F,w(t.t("lg_button")),1))])),_:1},8,["onClick","disabled"])])),_:1},8,["model","rules"])};var T=o({name:"Home",components:{GithubIcon:k,PrintSvg:_,Form:j,Translate:S,ToggleMode:P},setup(){const{t:t,locale:a}=e(),n=s(a);return{t:t,isSmall:l(),github:"https://github.com/xiaoxunyao/ZFile",options:r,handleSelect:n}}});const q={class:"hidden lg:flex absolute top-4 right-0 pr-4 w-70 justify-evenly"},z={class:"block lg:hidden w-full"},C={class:"flow-root pt-2 px-3 mb-12"},I={class:"float-left"},L={class:"float-right flex w-30 justify-evenly"},U=p("img",{class:"w-[60%] mx-auto",src:"/zfile/assets/zfile.c62f738f.png"},null,-1),Z=p("div",{class:"\n\t\t\t\thidden\n\t\t\t\tlg:block\n\t\t\t\tabsolute\n\t\t\t\tbg--fadeIn\n\t\t\t\ttransition-colors\n\t\t\t\tw-[62%]\n\t\t\t\th-full\n\t\t\t\tshadow_login--clipPath\n\t\t\t\tbg-gray-200\n\t\t\t\tdark:bg-gray-700\n\t\t\t"},null,-1),E={class:"\n\t\t\t\thidden\n\t\t\t\tlg:block\n\t\t\t\tbg_login--clipPath\n\t\t\t\tw-[60%]\n\t\t\t\th-full\n\t\t\t\tbg_login bg--fadeIn\n\t\t\t\ttransition-colors\n\t\t\t\tduration-500\n\t\t\t\trelative\n\t\t\t\tdark:blue-gray-900\n\t\t\t"},G={class:"\n\t\t\t\t\tinline\n\t\t\t\t\trelative\n\t\t\t\t\ttop-16\n\t\t\t\t\t-left-12\n\t\t\t\t\ttext-8xl\n\t\t\t\t\tclip-text\n\t\t\t\t\tbg-gradient-to-br\n\t\t\t\t\tfrom-white\n\t\t\t\t\tto-gray-500\n\t\t\t\t"},K=x(" ZFile "),M={class:"text-white text-xl"},R={class:"\n\t\t\t\t\tabsolute\n\t\t\t\t\tw-[400px]\n\t\t\t\t\th-[300px]\n\t\t\t\t\ttop-3/5\n\t\t\t\t\tleft-1/3\n\t\t\t\t\ttransform-gpu\n\t\t\t\t\t-translate-x-1/2 -translate-y-1/2\n\t\t\t\t"},$=p("img",{class:"absolute w-[400px]",src:"/zfile/assets/login-woman.18c396da.png"},null,-1),D={class:"flex lg:flex-1 justify-center lg:justify-start mt-12 lg:mt-0"},H={class:"w-[80%] lg:w-[70%] flex flex-col text-left justify-center"},W={class:"enter_xleft-0 text-4xl dark:text-white hidden lg:block text-left mb-8"};T.render=function(t,e,l,a,n,r){const s=f("ToggleMode"),o=f("GithubIcon"),i=f("Translate"),u=f("PrintSvg"),c=f("Form");return g(),h("div",{class:["\n\t\t\tw-screen\n\t\t\th-screen\n\t\t\toverflow-hidden\n\t\t\trelative\n\t\t\tdark:bg-blue-gray-800\n\t\t\ttransition-colors\n\t\t\tduration-500\n\t\t\tflex flex-col\n\t\t\tlg:flex-row\n\t\t",{"login--color":t.isSmall}]},[p("div",q,[p(s),p("a",{href:t.github,target:"_blank"},[p(o,{class:"\n\t\t\t\t\t\trounded-full\n\t\t\t\t\t\tborder-2\n\t\t\t\t\t\tshadow-md\n\t\t\t\t\t\tborder-gray-700\n\t\t\t\t\t\tdark:border-white\n\t\t\t\t\t\tcursor-pointer\n\t\t\t\t\t\tdark:bg-white\n\t\t\t\t\t",width:"28"})],8,["href"]),p(i)]),p("div",z,[p("div",C,[p("div",I,[p(s)]),p("div",L,[p("a",{href:t.github,target:"_blank"},[p(o,{class:"\n\t\t\t\t\t\t\t\trounded-full\n\t\t\t\t\t\t\t\tborder-2\n\t\t\t\t\t\t\t\tshadow-md\n\t\t\t\t\t\t\t\tborder-gray-700\n\t\t\t\t\t\t\t\tdark:border-white\n\t\t\t\t\t\t\t\tcursor-pointer\n\t\t\t\t\t\t\t\tdark:bg-white\n\t\t\t\t\t\t\t",width:"28"})],8,["href"]),p(i)])]),U]),Z,p("div",E,[p("h1",G,[K,p("span",M,w(t.t("title")),1)]),p("div",R,[$,p(u,{width:"34",class:"absolute right-[95px] top-[55px]"})])]),p("div",D,[p("div",H,[p("h2",W,w(t.t("login")),1),p(c)])])],2)};export default T;
